{% extends 'base.html' %}
{% load static %}

{% block title %}Change Password - Blueprint Apparel{% endblock %}

{% block content %}
<section class="bg-white min-h-[80vh] flex items-center justify-center">
  <div class="max-w-md w-full mx-4">

    <!-- Header -->
    <div class="text-center mb-8">
      <span class="text-xs tracking-widest uppercase text-neutral-400 block mb-4">Account Security</span>
      <h1 class="text-3xl font-bold tracking-tight">"CHANGE PASSWORD"</h1>
    </div>

    <!-- Errors -->
    {% if form.non_field_errors %}
      <div class="mb-6">
        {% for error in form.non_field_errors %}
          <div class="px-4 py-3 text-sm border bg-red-50 text-red-800 border-red-200 mb-2">{{ error }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Form -->
    <form method="POST" class="space-y-4">
      {% csrf_token %}

      <div>
        <label class="text-xs tracking-wider uppercase text-neutral-500 block mb-2">Current Password</label>
        <input type="password" name="oldpassword" id="id_oldpassword" required
               class="w-full px-4 py-3 border border-black text-sm focus:outline-none focus:ring-1 focus:ring-black" />
        {% if form.oldpassword.errors %}
          {% for error in form.oldpassword.errors %}
            <p class="text-red-600 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        {% endif %}
      </div>

      <div>
        <label class="text-xs tracking-wider uppercase text-neutral-500 block mb-2">New Password</label>
        <input type="password" name="password1" id="id_password1" required
               class="w-full px-4 py-3 border border-black text-sm focus:outline-none focus:ring-1 focus:ring-black" />
        {% if form.password1.errors %}
          {% for error in form.password1.errors %}
            <p class="text-red-600 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        {% endif %}
      </div>

      <div>
        <label class="text-xs tracking-wider uppercase text-neutral-500 block mb-2">Confirm New Password</label>
        <input type="password" name="password2" id="id_password2" required
               class="w-full px-4 py-3 border border-black text-sm focus:outline-none focus:ring-1 focus:ring-black" />
        {% if form.password2.errors %}
          {% for error in form.password2.errors %}
            <p class="text-red-600 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        {% endif %}
      </div>

      <button type="submit"
              class="w-full py-4 bg-black text-white text-xs tracking-widest uppercase font-medium hover:bg-neutral-800 transition-colors">
        Update Password
      </button>
    </form>

    <!-- Back to Account -->
    <div class="text-center mt-8">
      <a href="{% url 'shop:account' %}" class="text-xs tracking-wider uppercase text-neutral-500 hover:text-black transition-colors">
        Back to Account
      </a>
    </div>

  </div>
</section>

{% endblock %}
