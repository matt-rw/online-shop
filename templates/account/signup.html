{% extends 'base.html' %}
{% load static %}

{% block title %}Create Account - Blueprint Apparel{% endblock %}

{% block content %}
<section class="bg-white min-h-[80vh] flex items-center justify-center py-12">
  <div class="max-w-md w-full mx-4">

    <!-- Header -->
    <div class="text-center mb-8">
      <span class="text-xs tracking-widest uppercase text-neutral-400 block mb-4">Join Us</span>
      <h1 class="text-3xl font-bold tracking-tight">"CREATE ACCOUNT"</h1>
    </div>

    <!-- Errors -->
    {% if form.non_field_errors %}
      <div class="mb-6">
        {% for error in form.non_field_errors %}
          <div class="px-4 py-3 text-sm border bg-red-50 text-red-800 border-red-200 mb-2">{{ error }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Form -->
    <form method="POST" action="{% url 'account_signup' %}" class="space-y-4">
      {% csrf_token %}

      <div>
        <label class="text-xs tracking-wider uppercase text-neutral-500 block mb-2">Email</label>
        <input type="email" name="email" id="id_email" required
               class="w-full px-4 py-3 border border-black text-sm focus:outline-none focus:ring-1 focus:ring-black" />
        {% if form.email.errors %}
          {% for error in form.email.errors %}
            <p class="text-red-600 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        {% endif %}
      </div>

      <div>
        <label class="text-xs tracking-wider uppercase text-neutral-500 block mb-2">Password</label>
        <input type="password" name="password1" id="id_password1" required
               class="w-full px-4 py-3 border border-black text-sm focus:outline-none focus:ring-1 focus:ring-black" />
        {% if form.password1.errors %}
          {% for error in form.password1.errors %}
            <p class="text-red-600 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        {% endif %}
      </div>

      <div>
        <label class="text-xs tracking-wider uppercase text-neutral-500 block mb-2">Confirm Password</label>
        <input type="password" name="password2" id="id_password2" required
               class="w-full px-4 py-3 border border-black text-sm focus:outline-none focus:ring-1 focus:ring-black" />
        {% if form.password2.errors %}
          {% for error in form.password2.errors %}
            <p class="text-red-600 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        {% endif %}
      </div>

      {% if redirect_field_value %}
        <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
      {% endif %}

      <button type="submit"
              class="w-full py-4 bg-black text-white text-xs tracking-widest uppercase font-medium hover:bg-neutral-800 transition-colors">
        Create Account
      </button>

      <p class="text-xs text-neutral-500 text-center leading-relaxed">
        By creating an account, you agree to our
        <a href="{% url 'shop:terms' %}" class="underline hover:text-black">Terms of Service</a> and
        <a href="{% url 'shop:privacy' %}" class="underline hover:text-black">Privacy Policy</a>.
      </p>
    </form>

    <!-- Divider -->
    <div class="flex items-center gap-4 my-8">
      <span class="flex-1 h-px bg-neutral-200"></span>
      <span class="text-xs text-neutral-400 uppercase tracking-wider">or</span>
      <span class="flex-1 h-px bg-neutral-200"></span>
    </div>

    <!-- Sign In -->
    <div class="text-center">
      <p class="text-sm text-neutral-600 mb-4">Already have an account?</p>
      <a href="{% url 'account_login' %}"
         class="inline-block w-full py-4 border border-black text-xs tracking-widest uppercase font-medium hover:bg-black hover:text-white transition-colors text-center">
        Sign In
      </a>
    </div>

    <!-- Back Home -->
    <div class="text-center mt-6">
      <a href="{% url 'home' %}" class="text-xs tracking-wider uppercase text-neutral-500 hover:text-black transition-colors">
        Back to Home
      </a>
    </div>

  </div>
</section>

{% endblock %}
